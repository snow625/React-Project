"use strict";(self.webpackChunkreact_project=self.webpackChunkreact_project||[]).push([[257],{5738:function(e,t,n){n.d(t,{Z:function(){return l}});var r=n(885),a={backbox:"RightSideBar_backbox__f1uHh",box:"RightSideBar_box__5rTAJ",title:"RightSideBar_title__b9qBg",flexbox:"RightSideBar_flexbox__Ultvk",list:"RightSideBar_list__RNeJX",item:"RightSideBar_item__0V+B1",sub_title:"RightSideBar_sub_title__A7b6T",text:"RightSideBar_text__J6xPs",ol:"RightSideBar_ol__xwjjx",li:"RightSideBar_li__bdv0f"},i=n(1405),s=n(2616),c=n(3329),l=function(){var e=(0,i.v9)(s.Sp),t=(0,i.v9)(s.gN),n=(0,i.v9)(s.kZ),l=function(){if(e.kcalLeft){var t={};return Object.entries(e).forEach((function(e){var n=(0,r.Z)(e,2),a=n[0],i=n[1];t[a]=Math.floor(i)})),{kcalLeft:t.kcalLeft,kcalConsumed:t.kcalConsumed,dailyRate:t.dailyRate,percentsOfDailyRate:t.percentsOfDailyRate}}return{kcalLeft:"000",kcalConsumed:"000",dailyRate:"000",percentsOfDailyRate:"000"}}(),o=l.kcalLeft,d=l.kcalConsumed,u=l.dailyRate,m=l.percentsOfDailyRate;return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)("div",{className:a.backbox,children:(0,c.jsxs)("div",{className:a.box,children:[(0,c.jsxs)("div",{className:a.summary,children:[(0,c.jsx)("h3",{className:a.title,children:"\u0421\u0432\u043e\u0434\u043a\u0430 \u0437\u0430 ".concat(function(){if(t){var e=t.split("");e.splice(4,1,"/");var n=e;return n.splice(7,1,"/"),n.join("")}}())}),(0,c.jsxs)("div",{className:a.flexbox,children:[(0,c.jsxs)("ul",{className:a.list,children:[(0,c.jsx)("li",{className:a.item,children:"\u041e\u0441\u0442\u0430\u043b\u043e\u0441\u044c"}),(0,c.jsx)("li",{className:a.item,children:"\u0423\u043f\u043e\u0442\u0440\u0435\u0431\u043b\u0435\u043d\u043e"}),(0,c.jsx)("li",{className:a.item,children:"\u0414\u043d\u0435\u0432\u043d\u0430\u044f \u043d\u043e\u0440\u043c\u0430"}),(0,c.jsx)("li",{className:a.item,children:"% \u043e\u0442 \u043d\u043e\u0440\u043c\u044b"})]}),(0,c.jsxs)("ul",{className:a.list,children:[(0,c.jsxs)("li",{className:a.item,children:[(0,c.jsx)("span",{className:"{style.number}",children:o})," \u043a\u043a\u0430\u043b"]}),(0,c.jsxs)("li",{className:a.item,children:[(0,c.jsx)("span",{className:"{style.number}",children:d})," \u043a\u043a\u0430\u043b"]}),(0,c.jsxs)("li",{className:a.item,children:[(0,c.jsx)("span",{className:"{style.number}",children:u})," \u043a\u043a\u0430\u043b"]}),(0,c.jsxs)("li",{className:a.item,children:[(0,c.jsx)("span",{className:"{style.number}",children:m})," ","%"]})]})]})]}),(0,c.jsxs)("div",{className:a.food,children:[(0,c.jsx)("h3",{className:a.sub_title,children:"\u041d\u0435\u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u043c\u044b\u0435 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u044b:"}),n.length>0?function(){var e=n.map((function(e){return(0,c.jsx)("li",{className:a.li,children:e},e)}));return(0,c.jsx)("ol",{className:a.ol,children:e})}():(0,c.jsx)("p",{className:a.text,children:"\u0417\u0434\u0435\u0441\u044c \u0431\u0443\u0434\u0435\u0442 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c\u0441\u044f \u0412\u0430\u0448 \u0440\u0430\u0446\u0438\u043e\u043d"})]})]})})})}},3361:function(e,t,n){n.r(t),n.d(t,{default:function(){return he}});var r=n(1405),a=n(2791),i=n(1167),s=n(885),c=n(9513),l=n.n(c),o=(n(8639),n(8938)),d="diaryDate\u0421alendar_wrapper__1gq55",u="diaryDate\u0421alendar_datePicker__FksKS",m="diaryDate\u0421alendar_icon__cZyaP",_=n(3329),h=function(e){var t=e.fetchDayInfo,n=(0,a.useState)(new Date),r=(0,s.Z)(n,2),i=r[0],c=r[1];return(0,a.useEffect)((function(){t({date:i.toISOString().slice(0,10)})}),[t,i]),(0,_.jsx)("div",{className:"wrapper_container",children:(0,_.jsxs)("div",{className:d,children:[(0,_.jsx)(l(),{className:u,selected:i,onChange:function(e){return c(e)},dateFormat:"dd.MM.yyyy"}),(0,_.jsx)("svg",{className:m,children:(0,_.jsx)("use",{href:o.Z+"#icon-calendar"})})]})})},f=n(4165),x=n(5861),p=n(1413),v="productSelector_select__gPhvF",j=function(e){var t=e.list,n=e.onChange,r=(t.length>10?t.slice(0,10):t).map((function(e){var t=e._id,n=e.title.ru;return(0,_.jsx)("option",{id:t,value:n,children:n},t)}));return(0,_.jsx)("select",{className:v,onChange:function(e){var t=e.target.value;n(t)},children:r})};j.defaultProps={list:[],onChange:function(){}};var b=j,y="circleButton_btn__2aj1H",g="circleButton_mobile__5dTLh",N="circleButton_icon__AB0yh",k=function(e){var t=e.type,n=e.label,r=e.mobile,a=e.iconNameInSprite,i=e.onClick;return(0,_.jsx)("button",{className:r?"".concat(y," ").concat(g):y,type:t,"aria-label":n,onClick:i,children:(0,_.jsx)("svg",{className:N,children:(0,_.jsx)("use",{href:o.Z+"#icon-".concat(a)})})})};k.defaultProps={type:"button",label:"Button",mobile:!1,onClick:function(){}};var P=k,Z=n(4498),w=n(158),S=n(7864),C=function(){var e=(0,x.Z)((0,f.Z)().mark((function e(t){var n,r;return(0,f.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.eE.get("/product?search=".concat(t));case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=n(5518),I=n(7068),L=n(2358),B={product:"",foundProducts:[],currentProduct:"",id:null,weight:"",error:null,loading:!1},F={product:{name:"product",required:!0,type:"text",autoComplete:"off",id:"product"},weight:{name:"weight",id:"weight",required:!0,type:"number",min:"1",max:"3000",title:"Input weight product in (gram)"}},A="diaryAddProductForm_addForm__6LUsR",D="diaryAddProductForm_mobileAddForm__GGTHk",G="diaryAddProductForm_wrapperProduct__hr9La",H="diaryAddProductForm_wrapperGrams__4Ji+U",E="diaryAddProductForm_label__g2eLt",q="diaryAddProductForm_labelGrams__sdZQs",M="diaryAddProductForm_input__3k+X3",O="diaryAddProductForm_addBtn__73b0n",T=function(e){var t=e.isMobile,n=e.onSubmit,r=(0,w.Z)({onSubmit:n,initialState:B,isReset:!0}),i=r.state,s=r.setState,c=r.handleChange,l=r.handleSubmit,o=i.product,d=i.foundProducts,u=i.currentProduct,m=i.weight,h=i.loading,v=i.error;(0,a.useEffect)((function(){var e=function(){var e=(0,x.Z)((0,f.Z)().mark((function e(t){var n;return(0,f.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(R._),e.prev=1,e.next=4,C(t);case 4:n=e.sent,s((function(e){return(0,p.Z)((0,p.Z)({},e),{},{foundProducts:n,loading:!1})})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),s((function(t){return(0,R.H)(t,e.t0)}));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();u||o.length>2&&e(o)}),[o,u,s]);return(0,_.jsxs)("div",{className:"wrapper_container",children:[(0,_.jsxs)("form",{className:t?D:A,onSubmit:l,children:[(0,_.jsxs)("div",{className:G,children:[(0,_.jsx)("label",{htmlFor:"product",className:E,children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0430"}),(0,_.jsx)("input",(0,p.Z)({className:M,value:o,onChange:c,onFocus:function(){s((function(e){return(0,p.Z)((0,p.Z)({},e),{},{foundProducts:[],currentProduct:"",id:null})}))}},F.product)),d.length>0&&(0,_.jsx)(b,{list:d,onChange:function(e){var t=d.find((function(t){return t.title.ru===e}))._id;s((function(n){return(0,p.Z)((0,p.Z)({},n),{},{product:e,currentProduct:e,foundProducts:[],id:t})}))}})]}),(0,_.jsxs)("div",{className:H,children:[(0,_.jsx)("label",{htmlFor:"weight",className:q,children:"Grams"}),(0,_.jsx)("input",(0,p.Z)({className:M,value:m,onChange:c},F.weight))]}),t?(0,_.jsx)("div",{className:O,children:(0,_.jsx)(Z.Z,{type:"submit",text:"Add",white:!1})}):(0,_.jsx)(P,{type:"submit",label:"Add product button",iconNameInSprite:"add"})]}),h&&(0,_.jsx)(L.Z,{}),v&&(0,I.P)(v)]})},J="diaryProductsListItem_listItem__sfxH7",U="diaryProductsListItem_calories__GzQnx",X="diaryProductsListItem_grams__UeXqj",Y="diaryProductsListItem_product__KiujG",z="diaryProductsListItem_btn__2B-43",K="diaryProductsListItem_doubleBtn__rHUgW",Q="diaryProductsListItem_icon__kttsa",W=function(e){var t=e.title,n=e.weight,r=e.kcal,a=e.id,i=e.onClick;return(0,_.jsxs)("li",{className:J,children:[(0,_.jsx)("span",{className:Y,children:t}),(0,_.jsx)("span",{className:X,children:n}),(0,_.jsxs)("span",{className:U,children:[Math.round(r)," kcal"]}),(0,_.jsx)("button",{className:t.length>24?K:z,onClick:function(){return i(a)},"aria-label":"button delete element",children:(0,_.jsx)("svg",{className:Q,children:(0,_.jsx)("use",{href:o.Z+"#icon-remove"})})})]},a)},V="diaryProductsList_list__HbP9-",$="diaryProductsList_warn__wziG9",ee=function(e){var t=e.eatenProducts,n=e.onClick;return(0,_.jsx)("div",{className:"wrapper_container",children:function(){if(t.length>0){var e=t.map((function(e){var t=e.title,r=e.weight,a=e.kcal,i=e.id;return(0,_.jsx)(W,{onClick:n,title:t,weight:r,kcal:a,id:i},i)}));return(0,_.jsx)("ul",{className:V,children:e.reverse()})}return(0,_.jsx)("p",{className:$,children:"List empty, add new product"})}()})};ee.defaultProps={eatenProducts:[]};var te=ee,ne=n(7277),re=n(3269),ae=n(7810),ie=n(7008),se=n(2616),ce=n(1537),le="diary_wrapper__XjRIh",oe="diary_btn__-pfQA",de=function(){var e=(0,re.d)(),t=(0,r.I0)(),n=(0,i.useMediaPredicate)("(max-width: 768px)"),s=(0,r.v9)(se.H2),c=s.loading,l=s.error,o=s.eatenProducts,d=s.dayId,u=s.date,m=(0,a.useCallback)((function(e){t((0,ce.GS)(e)),t((0,ie.d0)(e))}),[t]),f=function(e){var r=e.id,a=e.weight,i={productId:r,weight:Number(a),date:u};t((0,ie.gK)(i)),n&&t((0,ae.g)())},x=(0,a.useCallback)((function(e){var n={dayId:d,eatenProductId:e};t((0,ie.kh)(n))}),[d,t]);return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)("div",{className:le,children:[(0,_.jsx)(h,{fetchDayInfo:m}),(0,_.jsx)(T,{isMobile:!1,onSubmit:f}),(0,_.jsx)(te,{eatenProducts:o,onClick:x}),(0,_.jsx)("div",{className:oe,children:(0,_.jsx)(P,{type:"button",label:"Add product button",mobile:!0,iconNameInSprite:"add",onClick:function(){t((0,ae.g)())}})})]}),l&&(0,I.P)(l),c&&(0,_.jsx)(L.Z,{}),e&&(0,_.jsx)(ne.Z,{children:(0,_.jsx)(T,{isMobile:!0,onSubmit:f})})]})},ue=n(5738),me="diaryPage_wrapper__3dexS",_e="diaryPage_diary__DOxYG",he=function(){var e=(0,r.v9)(se.YR).error;return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)("div",{className:me,children:[(0,_.jsx)("div",{className:_e,children:(0,_.jsx)(de,{})}),(0,_.jsx)(ue.Z,{})]}),e&&(0,I.P)(e)]})}},2616:function(e,t,n){n.d(t,{H2:function(){return r},Sp:function(){return a},YR:function(){return s},gN:function(){return i},kZ:function(){return c}});var r=function(e){return e.summary},a=function(e){return e.summary.summary},i=function(e){return e.summary.date},s=function(e){return{loading:e.summary.loading,error:e.summary.error}},c=function(e){return e.summary.notAllowedProducts}},4498:function(e,t,n){n.d(t,{Z:function(){return c}});var r="button_btn__GLfzt",a="button_btn_white__vYoLr",i=n(3329),s=function(e){var t=e.type,n=e.text,s=e.onClick,c=e.white;return(0,i.jsx)("button",{className:c?a:r,onClick:s,type:t,children:n})};s.defaultProps={white:!1,type:"submit",onClick:function(){}};var c=s},7277:function(e,t,n){n.d(t,{Z:function(){return f}});var r=n(2791),a=n(4164),i=n(1405),s=n(7810),c="modal_overlay__R++hW",l="modal_modal__2Pbuy",o="modal_close_btn__DTBAR",d="modal_container__Jd1Z7",u="modal_close_icon__mvDI0",m=n(8938),_=n(3329),h=document.getElementById("modal-root"),f=function(e){var t=e.children,n=(0,i.I0)();(0,r.useEffect)((function(){document.body.style.overflow="hidden",document.addEventListener("keydown",x);return function(){return document.removeEventListener("keydown",x),void(document.body.style.overflow="")}}),[]);var f=function(){n((0,s.g)())};function x(e){var t=e.target,n=e.currentTarget,r=e.code;t!==n&&"Escape"!==r||f()}return(0,a.createPortal)((0,_.jsx)("div",{onClick:x,className:c,children:(0,_.jsxs)("div",{className:l,children:[(0,_.jsx)("button",{className:o,type:"button","aria-label":"button close",onClick:f,children:(0,_.jsx)("svg",{className:u,children:(0,_.jsx)("use",{href:m.Z+"#icon-close"})})}),(0,_.jsx)("div",{className:d,children:t})]})}),h)}},158:function(e,t,n){var r=n(4942),a=n(1413),i=n(885),s=n(2791),c=n(2007),l=n.n(c),o=function(e){var t=e.onSubmit,n=e.initialState,c=e.isReset,l=(0,s.useState)((0,a.Z)({},n)),o=(0,i.Z)(l,2),d=o[0],u=o[1];return{state:d,setState:u,handleChange:function(e){var t=e.target,n=t.name,i=t.value,s=t.type,c=t.checked,l="checkbox"===s?c:i;u((function(e){return(0,a.Z)((0,a.Z)({},e),{},(0,r.Z)({},n,l))}))},handleSubmit:function(e){e.preventDefault(),t((0,a.Z)({},d)),c&&u((0,a.Z)({},n))}}};o.defaultProps={onSubmit:function(){},initialState:{},isReset:!0},o.propTypes={onSubmit:l().func.isRequired,initialState:l().shape.isRequired,isReset:l().bool.isRequired},t.Z=o},5518:function(e,t,n){n.d(t,{H:function(){return i},_:function(){return a}});var r=n(1413),a=function(e){return(0,r.Z)((0,r.Z)({},e),{},{error:null,loading:!0})},i=function(e,t){return(0,r.Z)((0,r.Z)({},e),{},{loading:!1,error:{message:t.response.data.message,status:t.response.status}})}}}]);
//# sourceMappingURL=257.20bd8d15.chunk.js.map